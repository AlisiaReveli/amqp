{"version":3,"file":"hive.formatter.js","names":["reservedCommands","expandPhrases","reservedSetOperations","reservedJoins","HiveFormatter","Tokenizer","reservedDependentClauses","reservedKeywords","keywords","reservedFunctionNames","functions","openParens","closeParens","stringTypes","identTypes","variableTypes","quote","prefixes","requirePrefix","operators","Formatter"],"sources":["../../../src/languages/hive/hive.formatter.ts"],"sourcesContent":["import { expandPhrases } from 'src/expandPhrases';\nimport Formatter from 'src/formatter/Formatter';\nimport Tokenizer from 'src/lexer/Tokenizer';\nimport { functions } from './hive.functions';\nimport { keywords } from './hive.keywords';\n\nconst reservedCommands = expandPhrases([\n  // queries\n  'WITH',\n  'SELECT [ALL | DISTINCT]',\n  'FROM',\n  'WHERE',\n  'GROUP BY',\n  'HAVING',\n  'WINDOW',\n  'PARTITION BY',\n  'ORDER BY',\n  'SORT BY',\n  'CLUSTER BY',\n  'DISTRIBUTE BY',\n  'LIMIT',\n  // Data manipulation\n  // - insert:\n  //   Hive does not actually support plain INSERT INTO, only INSERT INTO TABLE\n  //   but it's a nuisance to not support it, as all other dialects do.\n  'INSERT INTO [TABLE]',\n  'VALUES',\n  // - update:\n  'UPDATE',\n  'SET',\n  // - delete:\n  'DELETE FROM',\n  // - truncate:\n  'TRUNCATE [TABLE]',\n  // - merge:\n  'MERGE INTO',\n  'WHEN [NOT] MATCHED [THEN]',\n  'UPDATE SET',\n  'INSERT [VALUES]',\n  // - insert overwrite directory:\n  //   https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Writingdataintothefilesystemfromqueries\n  'INSERT OVERWRITE [LOCAL] DIRECTORY',\n  // - load:\n  //   https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DML#LanguageManualDML-Loadingfilesintotables\n  'LOAD DATA [LOCAL] INPATH',\n  '[OVERWRITE] INTO TABLE',\n  // Data definition\n  'CREATE [MATERIALIZED] VIEW [IF NOT EXISTS]',\n  'CREATE [TEMPORARY] [EXTERNAL] TABLE [IF NOT EXISTS]',\n  'DROP TABLE [IF EXISTS]',\n  // - alter table:\n  'ALTER TABLE',\n  'RENAME TO',\n\n  // other\n  'ALTER',\n  'CREATE',\n  'USE',\n  'DESCRIBE',\n  'DROP',\n  'FETCH',\n  'SET SCHEMA', // added\n  'SHOW',\n  // newline keywords\n  'STORED AS',\n  'STORED BY',\n  'ROW FORMAT',\n]);\n\nconst reservedSetOperations = expandPhrases(['UNION [ALL | DISTINCT]']);\n\nconst reservedJoins = expandPhrases([\n  'JOIN',\n  '{LEFT | RIGHT | FULL} [OUTER] JOIN',\n  '{INNER | CROSS} JOIN',\n  // non-standard joins\n  'LEFT SEMI JOIN',\n]);\n\n// https://cwiki.apache.org/confluence/display/Hive/LanguageManual\nexport default class HiveFormatter extends Formatter {\n  static operators = ['<=>', '==', '||'];\n\n  tokenizer() {\n    return new Tokenizer({\n      reservedCommands,\n      reservedSetOperations,\n      reservedJoins,\n      reservedDependentClauses: ['WHEN', 'ELSE'],\n      reservedKeywords: keywords,\n      reservedFunctionNames: functions,\n      openParens: ['(', '['],\n      closeParens: [')', ']'],\n      stringTypes: ['\"\"', \"''\"],\n      identTypes: ['``'],\n      variableTypes: [{ quote: '{}', prefixes: ['$'], requirePrefix: true }],\n      operators: HiveFormatter.operators,\n    });\n  }\n}\n"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,gBAAgB,GAAG,IAAAC,4BAAA,EAAc,CACrC;AACA,MAFqC,EAGrC,yBAHqC,EAIrC,MAJqC,EAKrC,OALqC,EAMrC,UANqC,EAOrC,QAPqC,EAQrC,QARqC,EASrC,cATqC,EAUrC,UAVqC,EAWrC,SAXqC,EAYrC,YAZqC,EAarC,eAbqC,EAcrC,OAdqC,EAerC;AACA;AACA;AACA;AACA,qBAnBqC,EAoBrC,QApBqC,EAqBrC;AACA,QAtBqC,EAuBrC,KAvBqC,EAwBrC;AACA,aAzBqC,EA0BrC;AACA,kBA3BqC,EA4BrC;AACA,YA7BqC,EA8BrC,2BA9BqC,EA+BrC,YA/BqC,EAgCrC,iBAhCqC,EAiCrC;AACA;AACA,oCAnCqC,EAoCrC;AACA;AACA,0BAtCqC,EAuCrC,wBAvCqC,EAwCrC;AACA,4CAzCqC,EA0CrC,qDA1CqC,EA2CrC,wBA3CqC,EA4CrC;AACA,aA7CqC,EA8CrC,WA9CqC,EAgDrC;AACA,OAjDqC,EAkDrC,QAlDqC,EAmDrC,KAnDqC,EAoDrC,UApDqC,EAqDrC,MArDqC,EAsDrC,OAtDqC,EAuDrC,YAvDqC,EAuDvB;AACd,MAxDqC,EAyDrC;AACA,WA1DqC,EA2DrC,WA3DqC,EA4DrC,YA5DqC,CAAd,CAAzB;AA+DA,IAAMC,qBAAqB,GAAG,IAAAD,4BAAA,EAAc,CAAC,wBAAD,CAAd,CAA9B;AAEA,IAAME,aAAa,GAAG,IAAAF,4BAAA,EAAc,CAClC,MADkC,EAElC,oCAFkC,EAGlC,sBAHkC,EAIlC;AACA,gBALkC,CAAd,CAAtB,C,CAQA;;IACqBG,a;;;;;;;;;;;;;WAGnB,qBAAY;MACV,OAAO,IAAIC,qBAAJ,CAAc;QACnBL,gBAAgB,EAAhBA,gBADmB;QAEnBE,qBAAqB,EAArBA,qBAFmB;QAGnBC,aAAa,EAAbA,aAHmB;QAInBG,wBAAwB,EAAE,CAAC,MAAD,EAAS,MAAT,CAJP;QAKnBC,gBAAgB,EAAEC,eALC;QAMnBC,qBAAqB,EAAEC,eANJ;QAOnBC,UAAU,EAAE,CAAC,GAAD,EAAM,GAAN,CAPO;QAQnBC,WAAW,EAAE,CAAC,GAAD,EAAM,GAAN,CARM;QASnBC,WAAW,EAAE,CAAC,IAAD,EAAO,IAAP,CATM;QAUnBC,UAAU,EAAE,CAAC,IAAD,CAVO;QAWnBC,aAAa,EAAE,CAAC;UAAEC,KAAK,EAAE,IAAT;UAAeC,QAAQ,EAAE,CAAC,GAAD,CAAzB;UAAgCC,aAAa,EAAE;QAA/C,CAAD,CAXI;QAYnBC,SAAS,EAAEf,aAAa,CAACe;MAZN,CAAd,CAAP;IAcD;;;;EAlBwCC,sB;;;;gBAAtBhB,a,eACA,CAAC,KAAD,EAAQ,IAAR,EAAc,IAAd,C"}