"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.InsertService = void 0;
const AmqpService_1 = require("./amqp/AmqpService");
const ConfigService_1 = require("./ConfigService");
class InsertService {
    // eslint-disable-next-line @typescript-eslint/no-empty-function
    constructor() { }
    static get instance() {
        if (!this._instance) {
            this._instance = new InsertService();
        }
        return this._instance;
    }
    async insert(queries) {
        for (const query of queries) {
            await AmqpService_1.AmqpService.instance.publish(ConfigService_1.ConfigService.instance.exchange, ConfigService_1.ConfigService.instance.insertQueue, query.payload, {
                headers: { ['Content-Encoding']: 'gzip' },
            });
        }
    }
}
exports.InsertService = InsertService;
//# sourceMappingURL=InsertService.js.map